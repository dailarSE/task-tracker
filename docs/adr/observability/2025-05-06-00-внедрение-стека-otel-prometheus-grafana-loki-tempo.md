Заголовок: ADR-0003: Внедрение комплексного стека обсервабилити (OTel, Prometheus, Grafana, Loki, Tempo)

Статус: Accepted

Дата: 2025-05-06

Контекст: Необходимость в мониторинге, логировании и трассировке для понимания работы системы, диагностики проблем и анализа производительности, особенно в контексте будущей микросервисной архитектуры. Цель - освоить современные практики обсервабилити привнесенные в spring boot 3.

Решение: Использовать OpenTelemetry (OTel) как стандарт для сбора телеметрии. Интегрировать стек: Prometheus для метрик, Loki для логов, Tempo для трейсов, Grafana для визуализации, OTel Collector для сбора и процессинга.

Альтернативы: Только логирование (недостаточно для микросервисов). Использование отдельных, не интегрированных инструментов (сложнее в настройке и корреляции). Коммерческие решения (выходят за рамки бюджета проекта).

Последствия: Усложнение docker-compose.yml. Необходимость настройки инструментации в приложении. Значительное улучшение возможностей мониторинга и отладки.